import {
  useActiveTooltipDataPoints,
  useActiveTooltipLabel,
  useChartHeight,
  useChartWidth,
  useMargin,
  useOffset,
  usePlotArea,
  useXAxisDomain,
  useYAxisDomain
} from "./chunk-VO33IWTW.js";
import "./chunk-U7P2NEEE.js";
import "./chunk-CQ7JXR62.js";
import {
  require_react_dom
} from "./chunk-T2SWDQEL.js";
import {
  require_react
} from "./chunk-QCHXOAYK.js";
import {
  __toESM
} from "./chunk-WOOG5QLI.js";

// node_modules/@recharts/devtools/dist/random.js
function* random(seed) {
  const m = 2 ** 16 + 1;
  const a = 75;
  const c = 74;
  let x = seed;
  if (x > 0 && x < 1) {
    x = Math.round(x * 1e3);
  }
  while (x < 0) {
    x += m;
  }
  while (true) {
    x = (a * x + c) % m;
    yield Math.round(x);
  }
}
function between(rng, min, max) {
  const val = rng.next().value;
  return val % (max - min) + min;
}

// node_modules/@recharts/devtools/dist/generateMockData.js
function generateMockData(length, seed) {
  const result = [];
  const gen = random(seed);
  for (let i = 0; i < length; i++) {
    result.push({
      label: `Iter: ${i}`,
      x: between(gen, 100, 300),
      y: between(gen, 400, 800),
      z: between(gen, 1e3, 2e3)
    });
  }
  return result;
}

// node_modules/@recharts/devtools/dist/generateMockMarketData.js
function generateMockMarketData(length, seed, startPrice = 100, startTime = Date.now()) {
  const gen = random(seed);
  const candles = [];
  const interval = 15 * 60 * 1e3;
  let lastClose = startPrice;
  for (let i = 0; i < length; i++) {
    const time = startTime + i * interval;
    const open = lastClose;
    const move = between(gen, -200, 200) / 100;
    const close = Math.max(0.01, +(open + move));
    const baseHigh = Math.max(open, close);
    const baseLow = Math.min(open, close);
    const extraHigh = between(gen, 0, 100) / 100;
    const extraLow = between(gen, 0, 100) / 100;
    const high = +(baseHigh + extraHigh);
    const low = Math.max(0.01, +(baseLow - extraLow));
    candles.push({ time, open, close, low, high });
    lastClose = close;
  }
  return candles;
}

// node_modules/@recharts/devtools/dist/components/RechartsDevtools.js
var import_react16 = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);

// node_modules/@recharts/devtools/dist/constants.js
var RECHARTS_DEVTOOLS_PORTAL_ID = "recharts-devtools-portal";

// node_modules/@recharts/devtools/dist/inspectors/ChartDimensionInspector.js
var import_react2 = __toESM(require_react(), 1);

// node_modules/@recharts/devtools/dist/components/useEventDispatch.js
var import_react = __toESM(require_react(), 1);
function useEventDispatch(detail) {
  (0, import_react.useEffect)(() => {
    const container = document.getElementById(RECHARTS_DEVTOOLS_PORTAL_ID);
    if (!container)
      return;
    const event = new CustomEvent("recharts-devtools-change", { detail });
    container.dispatchEvent(event);
  }, [detail]);
}

// node_modules/@recharts/devtools/dist/inspectors/ChartDimensionInspector.js
var Inspector = () => {
  const chartWidth = useChartWidth();
  const chartHeight = useChartHeight();
  useEventDispatch({ useChartWidth: chartWidth, useChartHeight: chartHeight });
  return import_react2.default.createElement(
    "div",
    null,
    import_react2.default.createElement(
      "div",
      null,
      "useChartWidth: ",
      chartWidth
    ),
    import_react2.default.createElement(
      "div",
      null,
      "useChartHeight: ",
      chartHeight
    )
  );
};
var ChartDimensionInspector = {
  Inspector
};

// node_modules/@recharts/devtools/dist/inspectors/MarginInspector.js
var import_react6 = __toESM(require_react(), 1);

// node_modules/@recharts/devtools/dist/inspectors/utils/SvgDimensionShower.js
var import_react3 = __toESM(require_react(), 1);
function HorizontalLineWithArrows({ x1, x2, y, label, stroke = "black" }) {
  const strokeWidth = 2;
  const arrowSize = 7;
  const width = x2 - x1;
  return import_react3.default.createElement(
    import_react3.default.Fragment,
    null,
    import_react3.default.createElement("line", { x1, y1: y, x2, y2: y, stroke, strokeWidth }),
    import_react3.default.createElement("line", { x1, y1: y, x2: x1 + arrowSize, y2: y - arrowSize, stroke, strokeWidth }),
    import_react3.default.createElement("line", { x1, y1: y, x2: x1 + arrowSize, y2: y + arrowSize, stroke, strokeWidth }),
    import_react3.default.createElement("line", { x1: x2, y1: y, x2: x2 - arrowSize, y2: y - arrowSize, stroke, strokeWidth }),
    import_react3.default.createElement("line", { x1: x2, y1: y, x2: x2 - arrowSize, y2: y + arrowSize, stroke, strokeWidth }),
    import_react3.default.createElement("text", { x: width * 0.9, y: y + 8, textAnchor: "end", dominantBaseline: "hanging", stroke: "red" }, label)
  );
}
function Background({ width, height, label }) {
  const patternId = `pattern+${label.replace(/\s+/g, "-")}`;
  return import_react3.default.createElement(
    "svg",
    { width, height, style: { position: "absolute", top: 0, left: 0 } },
    import_react3.default.createElement(
      "defs",
      null,
      import_react3.default.createElement(
        "pattern",
        { id: patternId, x: 0, y: 0, width: 120, height: 50, patternUnits: "userSpaceOnUse", patternTransform: "rotate(30)" },
        import_react3.default.createElement("text", { x: 0, y: 10, fontSize: 24, stroke: "#eee", fill: "#eee", dominantBaseline: "hanging" }, label.toUpperCase())
      )
    ),
    import_react3.default.createElement("rect", { x: 0, y: 0, width, height, fill: `url(#${patternId})` })
  );
}
function VerticalLineWithArrows({ x, y1, y2, label, stroke = "black" }) {
  const strokeWidth = 2;
  const arrowSize = 7;
  const height = y2 - y1;
  return import_react3.default.createElement(
    import_react3.default.Fragment,
    null,
    import_react3.default.createElement("line", { x1: x, y1, x2: x, y2, stroke, strokeWidth }),
    import_react3.default.createElement("line", { x1: x, y1, x2: x - arrowSize, y2: y1 + arrowSize, stroke, strokeWidth }),
    import_react3.default.createElement("line", { x1: x, y1, x2: x + arrowSize, y2: y1 + arrowSize, stroke, strokeWidth }),
    import_react3.default.createElement("line", { x1: x, y1: y2, x2: x - arrowSize, y2: y2 - arrowSize, stroke, strokeWidth }),
    import_react3.default.createElement("line", { x1: x, y1: y2, x2: x + arrowSize, y2: y2 - arrowSize, stroke, strokeWidth }),
    import_react3.default.createElement("text", { x: x + 8, y: height * 0.7, textAnchor: "start", dominantBaseline: "middle", stroke: "blue" }, label)
  );
}
function makeHorizontalLabel(width, label) {
  if (width < 50) {
    return String(width);
  }
  if (width < 100) {
    return `${width}px`;
  }
  return `${label}: ${width}px`;
}
function SvgDimensionShower({ x = 0, y = 0, width, height, labels }) {
  return import_react3.default.createElement(
    "svg",
    { width, height, x, y, style: { pointerEvents: "none" } },
    import_react3.default.createElement(Background, { width, height, label: labels.background }),
    import_react3.default.createElement("rect", { x: 0, y: 0, width, height, fill: "none", stroke: "green", strokeWidth: 5, strokeDasharray: "3 3" }),
    labels.horizontal && import_react3.default.createElement(HorizontalLineWithArrows, { x1: 0, y: height * 0.15, x2: width, stroke: "red", label: makeHorizontalLabel(width, labels.horizontal) }),
    labels.vertical && import_react3.default.createElement(VerticalLineWithArrows, { x: width * 0.1, y1: 0, y2: height, stroke: "blue", label: `${labels.vertical}: ${height}px` })
  );
}

// node_modules/@recharts/devtools/dist/inspectors/generic/ObjectInspector.js
var import_react5 = __toESM(require_react(), 1);

// node_modules/@recharts/devtools/dist/inspectors/generic/PrimitiveInspector.js
var import_react4 = __toESM(require_react(), 1);
function serializePrimitive(value) {
  return value === void 0 ? "undefined" : JSON.stringify(value, null, 2);
}
function PrimitiveInspector({ value }) {
  const str = serializePrimitive(value);
  return import_react4.default.createElement("code", null, str);
}

// node_modules/@recharts/devtools/dist/inspectors/generic/ObjectInspector.js
function shouldExpandByDefault(value) {
  if (Array.isArray(value)) {
    return value.length <= 1;
  }
  if (value != null && typeof value === "object") {
    return Object.keys(value).length <= 2;
  }
  return true;
}
function NotPrimitiveInspector({ value }) {
  const [expand, setExpand] = (0, import_react5.useState)(shouldExpandByDefault(value));
  return import_react5.default.createElement(
    import_react5.default.Fragment,
    null,
    expand ? import_react5.default.createElement("button", { type: "button", onClick: () => setExpand(false) }, "Collapse") : import_react5.default.createElement("button", { type: "button", onClick: () => setExpand(true) }, "Expand"),
    expand ? import_react5.default.createElement(
      "pre",
      null,
      import_react5.default.createElement("code", null, JSON.stringify(value, null, 2))
    ) : import_react5.default.createElement("code", null, typeof value)
  );
}
function ValueInspector({ value }) {
  if (value == null || typeof value === "string" || typeof value === "number" || typeof value === "boolean") {
    return import_react5.default.createElement(PrimitiveInspector, { value });
  }
  return import_react5.default.createElement(NotPrimitiveInspector, { value });
}
function ObjectInspector({ obj }) {
  if (obj == null) {
    return import_react5.default.createElement("code", null, JSON.stringify(obj));
  }
  const keys = Object.keys(obj);
  return import_react5.default.createElement("div", null, keys.map((key) => import_react5.default.createElement(
    "div",
    { key },
    import_react5.default.createElement("strong", null, key),
    ": ",
    import_react5.default.createElement(ValueInspector, { value: obj[key] })
  )));
}

// node_modules/@recharts/devtools/dist/inspectors/MarginInspector.js
var Overlay = () => {
  const margin = useMargin();
  const height = useChartHeight();
  const width = useChartWidth();
  if (margin == null || width == null || height == null) {
    return null;
  }
  return import_react6.default.createElement(
    import_react6.default.Fragment,
    null,
    import_react6.default.createElement(SvgDimensionShower, { width: margin.left, height, labels: {
      background: "Left",
      horizontal: "useMargin.left"
    } }),
    import_react6.default.createElement(SvgDimensionShower, { width: margin.right, x: width - margin.right, height, labels: {
      background: "Right",
      horizontal: "useMargin.right"
    } }),
    import_react6.default.createElement(SvgDimensionShower, { width, height: margin.top, labels: {
      background: "Top",
      vertical: "useMargin.top"
    } }),
    import_react6.default.createElement(SvgDimensionShower, { width, height: margin.bottom, y: height - margin.bottom, labels: {
      background: "Bottom",
      vertical: "useMargin.bottom"
    } })
  );
};
var Inspector2 = () => {
  const margin = useMargin();
  return import_react6.default.createElement(ObjectInspector, { obj: margin });
};
var MarginInspector = {
  Overlay,
  Inspector: Inspector2
};

// node_modules/@recharts/devtools/dist/inspectors/OffsetInspector.js
var import_react7 = __toESM(require_react(), 1);
var Overlay2 = () => {
  const offset = useOffset();
  const height = useChartHeight();
  const width = useChartWidth();
  if (offset == null || width == null || height == null) {
    return null;
  }
  return import_react7.default.createElement(
    import_react7.default.Fragment,
    null,
    import_react7.default.createElement(SvgDimensionShower, { width: offset.left, height, labels: {
      background: "Left",
      horizontal: "useOffset.left"
    } }),
    import_react7.default.createElement(SvgDimensionShower, { width: offset.right, x: width - offset.right, height, labels: {
      background: "Right",
      horizontal: "useOffset.right"
    } }),
    import_react7.default.createElement(SvgDimensionShower, { width, height: offset.top, labels: {
      background: "Top",
      vertical: "useOffset.top"
    } }),
    import_react7.default.createElement(SvgDimensionShower, { width, height: offset.bottom, y: height - offset.bottom, labels: {
      background: "Bottom",
      vertical: "useOffset.bottom"
    } })
  );
};
var Inspector3 = () => {
  const offset = useOffset();
  useEventDispatch(offset);
  return import_react7.default.createElement(ObjectInspector, { obj: offset });
};
var OffsetInspector = {
  Overlay: Overlay2,
  Inspector: Inspector3
};

// node_modules/@recharts/devtools/dist/inspectors/PlotAreaInspector.js
var import_react8 = __toESM(require_react(), 1);
var Overlay3 = () => {
  const plotArea = usePlotArea();
  const width = useChartWidth();
  const height = useChartHeight();
  if (plotArea == null || width == null || height == null) {
    return null;
  }
  return import_react8.default.createElement(
    import_react8.default.Fragment,
    null,
    import_react8.default.createElement(SvgDimensionShower, { width, height: plotArea.y, labels: { background: "y", vertical: "usePlotArea.y" } }),
    import_react8.default.createElement(SvgDimensionShower, { width: plotArea.x, height, labels: { background: "x", horizontal: "usePlotArea.x" } }),
    import_react8.default.createElement(SvgDimensionShower, { x: plotArea.x, y: plotArea.y, width: plotArea.width, height: plotArea.height, labels: {
      background: "Plot area",
      horizontal: "usePlotArea.width",
      vertical: "usePlotArea.height"
    } })
  );
};
var Inspector4 = () => {
  const plotArea = usePlotArea();
  useEventDispatch(plotArea);
  return import_react8.default.createElement(ObjectInspector, { obj: plotArea });
};
var PlotAreaInspector = {
  Overlay: Overlay3,
  Inspector: Inspector4
};

// node_modules/@recharts/devtools/dist/inspectors/UseActiveTooltipDataPointsInspector.js
var import_react10 = __toESM(require_react(), 1);

// node_modules/@recharts/devtools/dist/inspectors/generic/ArrayInspector.js
var import_react9 = __toESM(require_react(), 1);
function ArrayOfObjectsInspector({ arr, expand }) {
  if (!expand) {
    return import_react9.default.createElement(
      "code",
      null,
      "Array(",
      arr.length,
      ")"
    );
  }
  return import_react9.default.createElement(
    "pre",
    null,
    import_react9.default.createElement(
      "code",
      null,
      "[",
      arr.map(serializePrimitive).join(",\n"),
      "]"
    )
  );
}
function ArrayInspector({ arr, expandByDefault }) {
  if (arr == null) {
    return import_react9.default.createElement(PrimitiveInspector, { value: arr });
  }
  const length = arr.length ?? 0;
  const typeofArr = typeof arr[0];
  const shouldExpandByDefault2 = expandByDefault || length <= 1 || typeofArr !== "object" && typeofArr !== "function";
  const [expand, setExpand] = (0, import_react9.useState)(shouldExpandByDefault2);
  return import_react9.default.createElement(
    import_react9.default.Fragment,
    null,
    expand ? import_react9.default.createElement("button", { type: "button", onClick: () => setExpand(false) }, "Collapse") : import_react9.default.createElement("button", { type: "button", onClick: () => setExpand(true) }, "Expand"),
    import_react9.default.createElement(ArrayOfObjectsInspector, { arr, expand })
  );
}

// node_modules/@recharts/devtools/dist/inspectors/UseActiveTooltipDataPointsInspector.js
var Inspector5 = () => {
  const dataPoints = useActiveTooltipDataPoints();
  useEventDispatch(dataPoints);
  return import_react10.default.createElement(ArrayInspector, { arr: dataPoints, expandByDefault: true });
};
var UseActiveTooltipDataPointsInspector = {
  Inspector: Inspector5
};

// node_modules/@recharts/devtools/dist/inspectors/XAxisDomainInspector.js
var import_react11 = __toESM(require_react(), 1);
var Inspector6 = () => {
  const xAxisDomain = useXAxisDomain();
  useEventDispatch(xAxisDomain);
  return import_react11.default.createElement(ArrayInspector, { arr: xAxisDomain });
};
var XAxisDomainInspector = {
  Inspector: Inspector6
};

// node_modules/@recharts/devtools/dist/inspectors/YAxisDomainInspector.js
var import_react12 = __toESM(require_react(), 1);
var Inspector7 = () => {
  const yAxisDomain = useYAxisDomain();
  useEventDispatch(yAxisDomain);
  return import_react12.default.createElement(ArrayInspector, { arr: yAxisDomain });
};
var YAxisDomainInspector = {
  Inspector: Inspector7
};

// node_modules/@recharts/devtools/dist/inspectors/ActiveTooltipLabelInspector.js
var import_react13 = __toESM(require_react(), 1);
var Inspector8 = () => {
  const activeLabel = useActiveTooltipLabel();
  useEventDispatch(activeLabel);
  return import_react13.default.createElement(PrimitiveInspector, { value: activeLabel });
};
var ActiveTooltipLabelInspector = {
  Inspector: Inspector8
};

// node_modules/@recharts/devtools/dist/hooks/useSessionStorageState.js
var import_react14 = __toESM(require_react(), 1);
var useSessionStorageState = (id, initialState) => {
  const [state, setState] = (0, import_react14.useState)(() => {
    try {
      const storedState = sessionStorage.getItem(id);
      return storedState ? JSON.parse(storedState) : initialState;
    } catch {
      return initialState;
    }
  });
  (0, import_react14.useEffect)(() => {
    try {
      sessionStorage.setItem(id, JSON.stringify(state));
    } catch {
    }
  }, [state]);
  return [state, setState];
};

// node_modules/@recharts/devtools/dist/context/RechartsDevtoolsContext.js
var import_react15 = __toESM(require_react(), 1);
var Context = (0, import_react15.createContext)(null);
var RechartsDevtoolsContext = ({ children }) => {
  const rawId = (0, import_react15.useId)();
  const portalId = `recharts-devtools-portal-${rawId.replace(/:/g, "")}`;
  return import_react15.default.createElement(Context.Provider, { value: portalId }, children);
};
var useRechartsDevtoolsContext = () => {
  return (0, import_react15.useContext)(Context);
};
var RechartsDevtoolsPortal = ({ initialTab, ...props }) => {
  const contextId = useRechartsDevtoolsContext();
  const id = contextId ?? RECHARTS_DEVTOOLS_PORTAL_ID;
  return import_react15.default.createElement("div", { id, "data-initial-tab": initialTab, ...props });
};

// node_modules/@recharts/devtools/dist/components/RechartsDevtools.js
var INSPECTORS = {
  "useChartWidth | useChartHeight": ChartDimensionInspector,
  useMargin: MarginInspector,
  useOffset: OffsetInspector,
  usePlotArea: PlotAreaInspector,
  useActiveTooltipDataPoints: UseActiveTooltipDataPointsInspector,
  useXAxisDomain: XAxisDomainInspector,
  useYAxisDomain: YAxisDomainInspector,
  useActiveTooltipLabel: ActiveTooltipLabelInspector
};
var isValidInspectorKey = (key) => {
  return key != null && key in INSPECTORS;
};
function useSelectedInspector() {
  const [selectedInspectorId, setSelectedInspectorId] = useSessionStorageState("selectedRechartsDevtoolsInspector", "useChartWidth | useChartHeight");
  const selectedInspector = INSPECTORS[selectedInspectorId];
  if (!selectedInspector) {
    setSelectedInspectorId("useChartWidth | useChartHeight");
  }
  return { selectedInspectorId, setSelectedInspectorId, selectedInspector };
}
var RechartsDevtools = () => {
  const contextId = useRechartsDevtoolsContext();
  const portalId = contextId ?? RECHARTS_DEVTOOLS_PORTAL_ID;
  const { selectedInspectorId, setSelectedInspectorId, selectedInspector } = useSelectedInspector();
  const [container, setContainer] = import_react16.default.useState(null);
  import_react16.default.useEffect(() => {
    const el = document.getElementById(portalId);
    setContainer(el);
    if (el) {
      const initialTab = el.getAttribute("data-initial-tab");
      if (isValidInspectorKey(initialTab)) {
        setSelectedInspectorId(initialTab);
      }
    }
  }, [portalId, setSelectedInspectorId]);
  const [isOverlayEnabled, setIsOverlayEnabled] = useSessionStorageState("rechartsDevtoolsOverlayEnabled", false);
  if (!container || !selectedInspector) {
    return null;
  }
  const { Inspector: Inspector9, Overlay: Overlay4 } = selectedInspector;
  return import_react16.default.createElement(
    import_react16.default.Fragment,
    null,
    Overlay4 && isOverlayEnabled && import_react16.default.createElement(Overlay4, null),
    (0, import_react_dom.createPortal)(import_react16.default.createElement(
      "div",
      { className: "recharts-devtools", style: { fontFamily: "monospace", fontSize: "12px" } },
      import_react16.default.createElement(
        "div",
        { style: { marginBottom: "10px", paddingBottom: "10px", borderBottom: "1px solid #ccc" } },
        import_react16.default.createElement(
          "div",
          { style: { display: "flex", alignItems: "center", marginBottom: "4px", gap: "8px" } },
          import_react16.default.createElement("label", null, "Inspect Hook:"),
          import_react16.default.createElement("select", { value: selectedInspectorId, onChange: (e) => setSelectedInspectorId(e.target.value), style: { padding: "4px" } }, Object.keys(INSPECTORS).map((key) => import_react16.default.createElement("option", { key, value: key }, key))),
          Overlay4 && import_react16.default.createElement(
            "div",
            { style: { marginTop: "4px" } },
            import_react16.default.createElement(
              "label",
              { style: { cursor: "pointer", display: "flex", alignItems: "center" } },
              import_react16.default.createElement("input", { type: "checkbox", checked: isOverlayEnabled, onChange: (e) => setIsOverlayEnabled(e.target.checked), style: { marginRight: "4px" } }),
              "Show Overlay on chart"
            )
          )
        )
      ),
      import_react16.default.createElement(
        "div",
        { style: { padding: "10px 0" } },
        import_react16.default.createElement(Inspector9, null)
      )
    ), container)
  );
};

// node_modules/@recharts/devtools/dist/hooks/useWhyDidYouRender.js
var import_react17 = __toESM(require_react(), 1);
function useWhyDidYouRender(componentName, props, hooks) {
  const previousProps = (0, import_react17.useRef)();
  const previousHooks = (0, import_react17.useRef)();
  (0, import_react17.useEffect)(() => {
    const allProps = { ...props, ...hooks };
    if (previousProps.current) {
      const previousAllProps = { ...previousProps.current, ...previousHooks.current };
      const allKeys = Object.keys({ ...allProps, ...previousAllProps });
      const changesObj = {};
      allKeys.forEach((key) => {
        if (previousAllProps[key] !== allProps[key]) {
          changesObj[key] = {
            from: previousAllProps[key],
            to: allProps[key]
          };
        }
      });
      const changedKeys = Object.keys(changesObj);
      if (changedKeys.length) {
        const prev = Object.fromEntries(changedKeys.map((key) => [key, previousAllProps[key]]));
        const curr = Object.fromEntries(changedKeys.map((key) => [key, allProps[key]]));
        console.log("[why-did-you-render?]", componentName, Object.keys(changesObj).join(", "), {
          prev,
          curr
        });
      }
    } else {
      console.log("[why-did-you-render?]", componentName, "initial render", allProps);
    }
    previousProps.current = props;
    previousHooks.current = hooks;
  });
}
export {
  RECHARTS_DEVTOOLS_PORTAL_ID,
  RechartsDevtools,
  RechartsDevtoolsContext,
  RechartsDevtoolsPortal,
  between,
  generateMockData,
  generateMockMarketData,
  random,
  useWhyDidYouRender
};
//# sourceMappingURL=@recharts_devtools.js.map
