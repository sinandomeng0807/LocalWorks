import React, { createContext, useContext, useId } from 'react';
import { RECHARTS_DEVTOOLS_PORTAL_ID } from '../constants.js';
const Context = createContext(null);
export const RechartsDevtoolsContext = ({ children }) => {
    // Generate a unique ID for this instance.
    // React.useId returns a string that includes colons, e.g., ":r0:"
    // We sanitize it to make it a valid HTML ID and safer for CSS selectors if needed.
    const rawId = useId();
    const portalId = `recharts-devtools-portal-${rawId.replace(/:/g, '')}`;
    return React.createElement(Context.Provider, { value: portalId }, children);
};
export const useRechartsDevtoolsContext = () => {
    return useContext(Context);
};
export const RechartsDevtoolsPortal = ({ initialTab, ...props }) => {
    const contextId = useRechartsDevtoolsContext();
    const id = contextId ?? RECHARTS_DEVTOOLS_PORTAL_ID;
    return React.createElement("div", { id: id, "data-initial-tab": initialTab, ...props });
};
