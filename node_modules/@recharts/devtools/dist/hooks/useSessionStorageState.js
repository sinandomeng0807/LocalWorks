import { useState, useEffect } from 'react';
/**
 * This hook works just the same as `useState`, but it also stores the state in the session storage.
 *
 * In browsers without session storage support, it will fallback to `useState`.
 */
export const useSessionStorageState = (id, initialState) => {
    const [state, setState] = useState(() => {
        try {
            const storedState = sessionStorage.getItem(id);
            return storedState ? JSON.parse(storedState) : initialState;
        }
        catch {
            return initialState;
        }
    });
    useEffect(() => {
        try {
            sessionStorage.setItem(id, JSON.stringify(state));
        }
        catch {
            /* Ignored intentionally */
        }
    }, [state]);
    return [state, setState];
};
