import React, { useState } from 'react';
import { PrimitiveInspector, serializePrimitive } from './PrimitiveInspector.js';
function ArrayOfObjectsInspector({ arr, expand }) {
    if (!expand) {
        return React.createElement("code", null,
            "Array(",
            arr.length,
            ")");
    }
    return (React.createElement("pre", null,
        React.createElement("code", null,
            "[",
            arr.map(serializePrimitive).join(',\n'),
            "]")));
}
export function ArrayInspector({ arr, expandByDefault, }) {
    if (arr == null) {
        return React.createElement(PrimitiveInspector, { value: arr });
    }
    const length = arr.length ?? 0;
    const typeofArr = typeof arr[0];
    const shouldExpandByDefault = expandByDefault || length <= 1 || (typeofArr !== 'object' && typeofArr !== 'function');
    const [expand, setExpand] = useState(shouldExpandByDefault);
    return (React.createElement(React.Fragment, null,
        expand ? (React.createElement("button", { type: "button", onClick: () => setExpand(false) }, "Collapse")) : (React.createElement("button", { type: "button", onClick: () => setExpand(true) }, "Expand")),
        React.createElement(ArrayOfObjectsInspector, { arr: arr, expand: expand })));
}
